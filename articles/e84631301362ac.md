---
title: "Raspberrypieã§è‡ªä½œé˜²çŠ¯ã‚«ãƒ¡ãƒ©"
emoji: "ğŸ“"
topics: []
published: false
---

## ã“ã‚“ã«ã¡ã¯
å¤ä¼‘ã¿ã«ãªã£ã¦æ™‚é–“ãŒã‚ã‚‹ã®ã§é˜²çŠ¯ã‚«ãƒ¡ãƒ©ã‚’ä½œã‚Šã¾ã—ãŸã€‚

åƒ•ãŒä½ã‚“ã§ã‚‹ã¨ã“ç”°èˆãªã®ã§èª°ã‚‚ç©ºãå·£ã¨ã‹ã—ãªã„ã‚“ã§ã™ã‚ˆã­
ã§ã‚‚ãã‚Œã§ã¯ä¸å®‰ãªã®ã§é˜²çŠ¯ã‚«ãƒ¡ãƒ©ã‚’ä½œã£ã¦ã¿ã¾ã—ãŸï¼ˆéµã‚’ã—ã‚ˆã†ï¼‰

## è¦ä»¶
- IPã‚«ãƒ¡ãƒ©ã®ã‚ˆã†ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«æ¥ç¶šã—é…ä¿¡ã™ã‚‹ã€ã©ã“ã‹ã‚‰ã§ã‚‚è¦‹ã‚Œã‚‹ã‚ˆã†ã«
- é–²è¦§ã¯ãƒ–ãƒ©ã‚¦ã‚¶ã§è¦‹ã‚‹ãŸã‚ã«HTTPSé€šä¿¡ã‚’ä½¿ç”¨
- éŒ²ç”»ã—ã¦1é€±é–“ãã‚‰ã„ä¿å­˜ã—ã¦ãŠã

## ææ–™
- Raspberry Pi 3 Model B
    - Raspbian GNU/Linux 11
- Logitech C505e Webã‚«ãƒ¡ãƒ©
- LANã‚±ãƒ¼ãƒ–ãƒ«
- é©å½“ãªPC
    - Ubuntu 24.04.2 LTS
 
| ã‚½ãƒ•ãƒˆ          | ãƒãƒ¼ã‚¸ãƒ§ãƒ³             | 
| -------------- | --------------------- | 
| é©å½“ãªã‚µãƒ¼ãƒ   ã€€| Ubuntu 24.04.2 LTS    | 
| Raspberrypie   | Raspbian GNU/Linux 11 | 
| FFmpeg         | 6.1.1-3ubuntu5        | 
| v4l2rtspserver | v0.3.11               | 

ã‚«ãƒ¡ãƒ©ã¯USBæ¥ç¶šã§ãã‚‹ã‚„ã¤ã§ãƒãƒ¼ãƒ‰ã‚ªãƒ•ã§1500å††ãã‚‰ã„ï¼Ÿã§è²·ã„ã¾ã—ãŸã€‚æœ¬å½“ã¯ã‚‚ã†å°‘ã—åºƒè§’æ°—å‘³ãŒè‰¯ã‹ã£ãŸã‚“ã§ã™ã‘ã©ã€ä»•æ–¹ãŒãªã„ã§ã™ã€‚

## ä½œæˆ
å…¨ä½“åƒã¯ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚æœ¬å½“ã¯AWSã¨ä½¿ã‹ã£ã¦ã‚‚ã„ã„ã‹ãªãƒ¼ã¨ã‹æ€ã£ãŸã‚“ã§ã™ã‘ã©ã€å¸¸æ™‚èµ°ã‚‹ã“ã¨ã«ãªã‚‹ã®ã§ç„¡æ–™ã§ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚
ã¾ãŸPCç½®ã‘ã‚‹å ´æ‰€ã«ã¯åˆ¶é™ãŒã‚ã‚‹ã®ã§Raspberrypiã‚’ä½¿ã„ã¾ã—ãŸãŒã€PCã«ç›´åˆºã—ã§ã‚‚å¤§ä¸ˆå¤«ã§ã™ã€‚
![](https://storage.googleapis.com/zenn-user-upload/17ed44aac05d-20250807.png =500x)

ã¾ãŸä»Šå›ã¯ã“ã®è¨˜äº‹ã‚’å‚è€ƒã«ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸ
1
https://note.com/oyasai123/n/n12fb30ddfc6c
2
https://dev.classmethod.jp/articles/raspberry-pi-rtsp-server/

### Raspberrypiã®è¨­å®š
ã¾ãšã¯Raspberrypieã®è¨­å®šã‚’ã—ã¾ã™ã€‚Raspberrypieã¯å›³ã‹ã‚‰ã‚‚åˆ†ã‹ã‚‹é€šã‚Šã€RTSPã‚µãƒ¼ãƒã‚’ç«‹ã¡ä¸Šã’ã¦é…ä¿¡å‡ºæ¥ã‚Œã°å¤§ä¸ˆå¤«ã§ã™ã€‚

ã“ã“ã‹ã‚‰è¨˜äº‹1ã®å¼•ç”¨ã§ã™

1. ã‚«ãƒ¡ãƒ©ã®èªè­˜
ã‚«ãƒ¡ãƒ©ãŒ`/dev/video0`ã§èªè­˜ã§ãã¦ã„ã‚‹ã“ã¨ã®ç¢ºèª
```
$ v4l2-ctl --list-devices
USB Camera: USB Camera (usb-3f980000.usb-1.1.3):
/dev/video0
```

`/etc/modules`ã«`bcm2835-v4l2`ã‚’è¿½åŠ ã—ã¦å†èµ·å‹•ã™ã‚‹
```
# /etc/modules: kernel modules to load at boot time.
#
# This file contains the names of kernel modules that should be loaded
# at boot time, one per line. Lines beginning with "#" are ignored.

i2c-dev
bcm2835-v4l2
```

2. å¿…è¦ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```
$ sudo apt-get install cmake
$ sudo apt-get install subversion
$ sudo apt-get install liblivemedia-dev
```

3. ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«åŠã³ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```
$ git clone https://github.com/mpromonet/h264_v4l2_rtspserver.git
$ cd h264_v4l2_rtspserver
$ sudo cmake .
$ sudo make install
```

ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«åŠã³ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå®Œäº†ã™ã‚‹ã¨ã€`/usr/local/bin/v4l2rtspserver`ãŒåˆ©ç”¨å¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

å¼•ç”¨çµ‚ã‚ã‚Š

`/usr/local/bin/v4l2rtspserver`ã‚’å®Ÿè¡Œå¾Œã€åŒã˜ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å†…ã‹ã‚‰VLC Media Playerã¨ã‹ã§é–²è¦§ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚


## 